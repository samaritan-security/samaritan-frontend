(this.webpackJsonpsamaritan=this.webpackJsonpsamaritan||[]).push([[0],{180:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABVCAYAAABn7bJ/AAAKZUlEQVR4nO3dbXAV1R3HcSBainWcOk7tdKyBhAQItiiliiNBUEs1anhQLoZwd88JVWgp2GlRwRAcCsgoPjQgD0loCRgJZpPsOdcooiMJBKVqcXRQEbEBCgpMgEDunk1AxH9fSDAhCeaG7D0b+H1m/q/gxe65M/udfUyXLgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AYsFB7ChCoMlrm/0b0tAADgcwGLYsyQGsCEk8ukOsmlIi6Va9rhZ4Kh4wlziLrp3kYAAPAZs6w+lku1kAunikn17el4NMwpLtWnpgxnpr967Erd2woAAD7BhBrPpTp4VjRaHCacfRmv1N+ue5sBAECT4RV0iSHdu5lUb7QlHE0iIt06LtWLXNYPTVlH3XXvCwAARAkrca5jQhUwqfa3cLmq7SPUXibV82Ps8FW69wkAADxDXQMW9TBF3VQmVU27o9HyuFwoIzV3/2W69xIAADpQwKLLuVAGE86WDg5Ho3sj6gSX6rWgCI823qCf6N5nAAA4T6Zdn8yk8zYTjnNel6vafH/EqWXStYPW8QTd+w4AABEKWBRjltXHmrZ6iknX8ToaLU5I1fOQOztD1l2rez0AAKANDNu5mks1k0nns2iccZz7bMQ9yYX6wBS1U0eLoz/VvTYAANAKU7gpXLhVjd4i98UwqU4yobYy4Q7SvUYAAHDapFy61LCdYaZwSrlQX+uOxQ+EpJ5Ld6kZcgcGLIrRvXYAABct0w73MW1nBZfqgO7LVRHMKSbVLibUs+ND6ue61xAA4KISsPb1MKX7IBfOER8E4XzmK1Oq9IC1r4fuNQUAuKAFrH09eKgujUlnkw8O/h0zQn3NhFrHQu49AYsQEgCAjkVdeWndzafDUduJLldFEBLnKLOdYjz2CwDQARre52AhdwGXKqz9IB+FYULVmVLNMK26a3SvPwBAJ0VdmXDuZ1Jtj8aBe0LJMRq39jAZdlh/RL577Pc9U7gpun8FAIBOJ2BRDBPqWS8P1IHCarrl2Y8p6Yl3qO+sSkp8fBP1yayk/k+8Q4MXfkSjVh8gUzg6z0ae1v07AAB0OgGLYlio4wPChEPjrRpKfv4TSnh8I/WeUX7OGTD3XRq9er+miIQX6v4dAAA6Ha8CkvbyERq04IMfDEfjGf7C5wgIAEBn4VVAkp//JKJ4JGRu1BQPBAQAoF28CMh4q4b6ZG5qdonq3pX7aLx1lLhUZNhhChQeopS8PXTLc9vojiU7ERAAgM7Ei4DcmbOr6dnFzI2Umv9lq//ftMNklNYiIAAAnYkXAfndsv82CUi/rM00dk21xkAgIAAAHc6LgNyVe/YZSAXdmbvLB6FAQAAAOowXARm39nCzm+R9MjfRrdmf0YSSYz4IBgICAHDevHoKa9iiHZQws6JZSJJmv03DFn1G9xUcoHSrxgfxQEAAANrFq4CkWzU05ByP8iY+volumP8fGrZ4B6UV6Q4JAgIAEDGvAtIwqSv3UZ9Zm8/5Dki/rM006vRb6GmFB2nUii8oWBzNqCAgAAAR8zogXCoat/YQ3fbCDho4fyv1y9pMvVu4tBX/2FsUN2k19TSyz0wcX0r9pxbQkLkb6N6c7R4+6ouAAABELBoBaZh06yiNXVNNI5ZV0Q3z3m8WkbhH3qSefFmTiDRM/MTlNHjWawgIAIBfRDMgjWf0yt0UP62Y4h97q9FZyAbqNbmgxYD0NBdRypJtCAgAgF/oCsjAR4opNphNcQ/bjQJSTr+atYGGLaikW+dvpBszy+i6aQUUx5dQ/6kFHm4PAgIAEDEdARmTv5t6scXU08imXtNKvg/IjHIamv0pcamI2Q4Fi2sorfAgjcz9nEat+AIBAQDwE68CYpTWUkreHgoUHqJgSdOb3yOee59ijUXUc2IexU1/o8k3s+7K2x3VMyEEBACgnbwKyMj8r6hfViUlZm6im57+iO5YupNG5FTRiJwqumn+2xQ3rYTip6+n+Me+v4neN6tS0zshCAgAQMS8Csj1c99r/s7HzIrTj/A2f4y394xyuudfezXEAwEBAGgXLwISWHuIBvz93Rbf92hp4qavp16TC2jAX4vo7qUf0wOFBxEQAAC/8+xP2hYdoRHLq2jQgq0tfhOr94xyip/+OvWaUkSxGTkUG2x4eXAJXTftJbr5ifU0Mm8nMdtBQAAA/CgaT2GZtkNj11TT6BcPnJlgSS3dvWQbxU9cTj3NRS2/+2FkU9KfV9OYlbvItMMICACAn+h6D6Rhxr64l26evZ4SH8prNSK9Jy6n5HnlZJR69Sl4BAQAIGK6A8KlIqPkGI176Su6beEW6j+1oMUzkl5sMQ2aGUJAAAD8wg8BOXvG5O+mW+a8SQl/yKHYs0KSmrMDAQEA8AM/BoTL7+6bjMzbSYmTVjQJyNB55QgIAIAf+DUgDTNk7oYmARmctQ4BAQDwA50BmVB0mJho/d+NkmM08JHiJgEZMncDAgIA4Ae6AjLBOkyDs16nwVmv0/2r/tfsMd30l6vp1icrKY4vaRKQe5Z9ioAAAPiBroD8PvvDpu97TFlFv/7Ly2empcd5Ex7MJaPEi0d5ERAAgIjpCEh60SHqM/mfrb730dL0m7KK7svf49E2ISAAABHTEZBgcQ0lz6uguIylbYrHDdMtGrPSy8+8IyAAABHTeRM9UPAlDZ1fQUlTVlHiQ3mU+FDumen7p5V0Y2YZ3bt8exS2BQEBAIiYHx7jZbZD49dW0wNrDpwZo7Q2ituAgAAARMwPAdE/CAgAQOTmUDceUo8yqZT+A3n0h0mnhknnYd0/AwBAp5T+Kl3JQ3VpTDhbuFSndB/UozJCnWLCecuQbmpqGV2m+zcAAOjUUtZRdy6c2Uyqk9oP8J6OEzZl+MEuc6ib7jUHALigmCE1gAmVz6RzSP/BvkPnoCmcxUwc7617jQEALlipZfsvC8r6ocxW5Uyqb31w8D+fOc6EU2SE3N8GLPqR7rUFALgozCHqZkpnMhdqD5fqGx/EoE3DpPqWCXWCCaeKibr75+ByFQCAHhNDx/tyWz3FpdrbKc5IhFvFQ+pRw3au1r12AAAXveEVdIlhO0lcOEJ7IFqfei7dxcFS9xcBi2J0rxkAAJyFi/BoJpwtfnlii0nXYdKpzHil/nY8XQUA4HNmWd01hu38kQm1XfNlrQ8zbMUCFl2ue00AAKDNqOuE0iO/ZFKt1hCO46ZUz6S8dOSKLkRdda8EAAC0Ew+pu7hQbzKp6r0NhxNm0g2ZdjgZ4QAAuEAELOdnPOSkMel84lE8/m2EnPtwuQoA4AI1YR1dwYT6B5eue973R4Q6xYVzhNvq0Ulb6VLd+wYAAFFg2uFkLtUaJlVte+LBpDrEhPuCYTtJuvcFAACiLGBVX26G6m9jwtkWQTi+YVK9aobUgJR11F33PgAAgEY8f/ePeUj9jUn3C976Z1FOMOF8zqTKwHerAACgEepq2CeSTOk8yYU62Pj+CBNqPxNuVoasu1b3VgIAgE8FLCvGsE8kcakquVRfM6lWm3b4Knz0EAAA2ixoq+uHV9AlurcDwI/+Dyp+aeQNo5iAAAAAAElFTkSuQmCC"},185:function(e,t,n){e.exports=n(352)},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},247:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),c=n.n(i),o=(n(190),n(191),n(105),n(12)),s=n(15),l=n(21),u=n(20),p=n(358),h=n(360),m=n(34),f=(n(192),n(16)),d=n.n(f),A=n(24),g=function e(t){Object(o.a)(this,e),this._id=void 0,this.ref_id=void 0,this.time=void 0,this.camera=void 0,this._id=t._id,this.ref_id=t.ref_id,this.time=t.created_at,this.camera=t.camera_id},v=function e(t){Object(o.a)(this,e),this._id=void 0,this.name=void 0,this.img=void 0,this.known=void 0,this._id=t._id,this.name=t.name,this.img=t.img,this.known=t.known},y=function e(t){Object(o.a)(this,e),this._id=void 0,this.time=void 0,this.camera=void 0,this._id=t.ref_id,this.time=t.created_at,this.camera=t.camera_id},b=function e(t){Object(o.a)(this,e),this._id=void 0,this.ip=void 0,this.nickname=void 0,this._id=t._id,this.ip=t.ip,this.nickname=t.nickname},E=function e(t){Object(o.a)(this,e),this._id=void 0,this.ip=void 0,this.name=void 0,this._id=t._id,this.ip=t.ip,this.name=t.name};function w(e,t,n,a){return k.apply(this,arguments)}function k(){return(k=Object(A.a)(d.a.mark((function e(t,n,a,r){var i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="",c="",a&&(c=JSON.stringify(a)),"POST"!==n&&"PUT"!==n){e.next=9;break}return e.next=6,fetch("".concat(t),{method:n,body:c,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){i=e})).catch(console.log);case 6:return e.abrupt("return",i);case 9:return e.next=11,fetch("".concat(t),{method:n}).then((function(e){return e.json()})).then((function(e){i=e})).catch(console.log);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(A.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",a=new Request("http://34.238.42.110:5000/".concat(t),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}),e.next=4,fetch(a).then((function(e){return e.json()})).then((function(e){n=e})).catch(console.log);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return C.apply(this,arguments)}function C(){return(C=Object(A.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,r="",n&&(r=JSON.stringify(n)),e.next=5,fetch("".concat(t),{method:"POST",body:r,headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status})).then((function(e){a=e})).catch(console.log);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getOrganizationIP",value:function(){var e=Object(A.a)(d.a.mark((function e(t){var n,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,O(t);case 3:if(a=e.sent)for(r=JSON.parse(JSON.stringify(a)),i=0;i<r.length;i++)n.push(new E(r[i]));return e.abrupt("return",n[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(A.a)(d.a.mark((function e(t,n,a){var r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="http://".concat(t,":5000/users/login"),i={username:n,password:a},e.next=4,S(r,i);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),I=p.a.Title,T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={organizationName:"",organizationIP:""},e.sendDNSQuery=function(){var t=e.state.organizationName;(new x).getOrganizationIP(t).then((function(t){e.setState({organizationIP:t.ip}),e.props.dnsResponse(t.ip)}))},e.setText=function(t){e.setState({organizationName:t.target.value})},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{className:"title"}," Organization Login "),r.a.createElement("div",{className:"login"},r.a.createElement(h.a,{placeholder:"Organization Name",onChange:this.setText,style:{marginBottom:10}}),r.a.createElement(m.a,{type:"primary",onClick:this.sendDNSQuery,block:!0},"Submit")))}}]),n}(r.a.Component),U=(n(247),p.a.Title),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.setUsernameText=function(t){e.setState({username:t.target.value})},e.setPasswordText=function(t){e.setState({password:t.target.value})},e.login=function(){var t=e.state,n=t.username,a=t.password,r=e.props.ip;(new x).login(r,n,a).then((function(t){e.props.loginResponse(t)}))},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{className:"title"}," Samaritan Security "),r.a.createElement("div",{className:"login"},r.a.createElement(h.a,{onChange:this.setUsernameText,placeholder:"Username",style:{marginBottom:10}}),r.a.createElement(h.a.Password,{onChange:this.setPasswordText,placeholder:"Password",style:{marginBottom:10}}),r.a.createElement(m.a,{type:"primary",onClick:this.login,block:!0},"Login")))}}]),n}(r.a.Component),N=n(355),Q=n(133),D=n(5),z=n(354),R=n(70),M=n(51),P=n(356),J=n(359),F=n(175),L=function(){function e(t){Object(o.a)(this,e),this.ip=void 0,this.ip=t}return Object(s.a)(e,[{key:"getAlerts",value:function(){var e=Object(A.a)(d.a.mark((function e(t,n){var a,r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,w("http://".concat(this.ip,":5000/alerts/").concat(t,"/").concat(n),"GET");case 3:if(r=e.sent)for(i=JSON.parse(JSON.stringify(r)),c=0;c<i.length;c++)a.push(new g(i[c]));return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),V=n(353),Y=J.a.confirm,q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:"",visible:!1,modalVisible:!1,person:new v("")},e.handleShowActions=function(){var t=e.state.visible;e.setState({visible:!t})},e.showRecognizeModal=function(){var t=e.state.modalVisible;e.setState({modalVisible:!t})},e.updateName=function(t){e.setState({name:t.currentTarget.value})},e}return Object(s.a)(n,[{key:"showConfirmAuthorize",value:function(e){var t=this.state.visible;Y({title:"Do you want to authorize ?",content:"TODO: put person info",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}}),this.setState({visible:!t})}},{key:"showConfirmUnathorize",value:function(e){var t=this.state.visible;Y({title:"Do you want to unauthorize ?",content:"TODO: put person info",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}}),this.setState({visible:!t})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{style:{display:"block"}},r.a.createElement("div",{style:{margin:2}},r.a.createElement(m.a,{type:"primary",size:"small",onClick:this.showRecognizeModal,block:!0,ghost:!0}," ","Recognize")),r.a.createElement(J.a,{title:"Recognize",visible:this.state.modalVisible,onOk:this.showRecognizeModal,onCancel:this.showRecognizeModal},r.a.createElement("p",null,"Name:"),r.a.createElement(h.a,{onChange:this.updateName})),r.a.createElement("div",{style:{margin:2}},r.a.createElement(m.a,{type:"primary",size:"small",onClick:function(t){return e.showConfirmAuthorize(t)},block:!0,ghost:!0}," ","Authorize")),r.a.createElement("div",{style:{margin:2}},r.a.createElement(m.a,{type:"danger",size:"small",onClick:function(t){return e.showConfirmUnathorize(t)},block:!0,ghost:!0}," ","Unauthorize"," ")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{title:"Actions",content:t,placement:"top",visible:this.state.visible},r.a.createElement(m.a,{shape:"circle",icon:"ellipsis",onClick:this.handleShowActions})))}}]),n}(r.a.Component),H=function(){function e(t){Object(o.a)(this,e),this.ip=void 0,this.ip=t}return Object(s.a)(e,[{key:"getAllKnownPeople",value:function(){var e=Object(A.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,w("http://".concat(this.ip,":5000/people/known"),"GET");case 3:if(n=e.sent)for(a=JSON.parse(JSON.stringify(n)),r=0;r<a.length;r++)t.push(new v(a[r]));return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllUnknownPeople",value:function(){var e=Object(A.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,w("http://".concat(this.ip,":5000/people/unknown"),"GET");case 3:if(n=e.sent)for(a=JSON.parse(JSON.stringify(n)),r=0;r<a.length;r++)t.push(new v(a[r]));return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(A.a)(d.a.mark((function e(t){var n,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,w("http://".concat(this.ip,":5000/people/").concat(t),"GET");case 3:if(a=e.sent)for(r=JSON.parse(JSON.stringify(a)),i=0;i<r.length;i++)n.push(new v(r[i]));return e.abrupt("return",n[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),K=function(){function e(t){Object(o.a)(this,e),this.ip=void 0,this.ip=t}return Object(s.a)(e,[{key:"getCameras",value:function(){var e=Object(A.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,w("http://".concat(this.ip,":5000/camera"),"GET");case 3:return(n=e.sent)&&JSON.parse(JSON.stringify(n)).forEach((function(e){t.push(new b(e))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCameraById",value:function(){var e=Object(A.a)(d.a.mark((function e(t){var n,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,w("http://".concat(this.ip,":5000/camera/").concat(t),"GET");case 3:if(a=e.sent)for(r=JSON.parse(JSON.stringify(a)),i=0;i<r.length;i++)n.push(new b(r[i]));return e.abrupt("return",n[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),X=p.a.Title,Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={alerts:[],visible:!1,person:void 0,camera:void 0,loading:!0},e.componentDidMount=function(){return setInterval((function(){var t=e.props,n=t.startTime,a=t.ip,r=(new Date).toUTCString();new L(a).getAlerts(n,r).then((function(t){e.setState({alerts:t})}))}),3e3),function(){return clearInterval()}},e.openDetailsModal=function(t){var n=e.props.ip;new H(n).getById(t.ref_id).then((function(t){e.setState({person:t})})),new K(n).getCameraById(t.camera).then((function(t){e.setState({camera:t})})),e.setState({visible:!0})},e.closeDetailsModal=function(){e.setState({visible:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.alerts,n="";n=void 0===this.state.person?"":"data:image/jpeg;charset=utf-8;base64, "+this.state.person.img;var a=t.map((function(e){return{key:e._id,ref_id:e.ref_id,time:e.time,camera:e.camera}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{level:3},"Alerts"),r.a.createElement(P.a,{dataSource:a,columns:[{title:"Alert",dataIndex:"ref_id",key:"ref_id"},{title:"Time",dataIndex:"time",key:"time"},{title:"Camera",dataIndex:"camera",key:"camera"}],onRow:function(t,n){return{onClick:function(n){e.openDetailsModal(t)}}}}),r.a.createElement(J.a,{title:"Alert Details",visible:this.state.visible,onOk:this.closeDetailsModal,onCancel:this.closeDetailsModal},void 0!==this.state.person&&void 0!==this.state.camera?r.a.createElement("div",{style:{display:"block"}},r.a.createElement(z.a,{icon:"user",style:{display:"inline-block",margin:10},src:n,size:64}),r.a.createElement("p",{style:{display:"inline-block"}},this.state.person.name),r.a.createElement("p",{style:{display:"inline-block"}},this.state.camera.nickname),r.a.createElement("div",{style:{display:"inline-block",float:"right",margin:10}},r.a.createElement(q,{ip:this.props.ip,id:this.state.person._id}))):r.a.createElement(F.a,null)))}}]),n}(r.a.Component),G=n(357),W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={source:""},e.componentDidMount=function(){var t="http://"+e.props.ip+"/video.mjpg";e.setState({source:t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.source;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e,alt:"unavailable"}))}}]),n}(r.a.Component),_=function(){function e(t){Object(o.a)(this,e),this.ip=void 0,this.ip=t}return Object(s.a)(e,[{key:"getSeen",value:function(){var e=Object(A.a)(d.a.mark((function e(t,n,a){var r,i,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,w("http://".concat(this.ip,":5000/seen/").concat(t,"/").concat(n,"/").concat(a),"GET");case 3:if(i=e.sent)for(c=JSON.parse(JSON.stringify(i)),o=0;o<c.length;o++)r.push(new y(c[o]));return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getAllPeople",value:function(){var e=Object(A.a)(d.a.mark((function e(t,n,a){var r,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],this.getSeen(t,n,a).then((function(e){e.forEach(function(){var e=Object(A.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("http://".concat(i.ip,":5000/people/").concat(t._id),"GET");case 2:(n=e.sent)&&r.push(new v(n[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),$=n(179),ee=n.n($),te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e.componentWillMount=function(){var t=e.props,n=t.ip,a=t.camera,r=t.startTime,i=(new Date).toUTCString();new _(n).getAllPeople(a._id,r,i).then((function(t){e.handleData(t)}))},e}return Object(s.a)(n,[{key:"handleData",value:function(e){this.setState({data:e})}},{key:"renderItem",value:function(e,t){var n=this.props.ip,a=this.state.data[e],i="data:image/jpeg;charset=utf-8;base64, "+a.img;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"block",width:350}},r.a.createElement(z.a,{icon:"user",style:{display:"inline-block",margin:10},src:i}),r.a.createElement("p",{style:{display:"inline-block"}},a.known?a.name:"Unknown"),r.a.createElement("div",{style:{display:"inline-block",float:"right"}},r.a.createElement(q,{ip:n,id:a._id}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Recently Seen"),r.a.createElement("div",{style:{overflow:"auto",maxHeight:500}},r.a.createElement(ee.a,{itemRenderer:function(t,n){return e.renderItem(t,n)},length:this.state.data.length,type:"uniform"})))}}]),n}(r.a.Component),ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.ip,n=e.camera,a=e.startTime;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:1e3,display:"block"}},r.a.createElement("div",{style:{display:"inline-block",width:450,marginRight:5}},r.a.createElement(W,{ip:n.ip})),r.a.createElement("div",{style:{display:"inline-block",width:400,marginLeft:5,marginRight:20,float:"right"}},r.a.createElement(te,{ip:t,camera:n,startTime:a}))))}}]),n}(r.a.Component),ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.toggleExtra=function(){var t=e.state.modal;e.setState({modal:!t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.camera,n=e.ip,a="http://"+t.ip+"/video.mjpg";return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{size:"small",title:t.nickname,style:{width:300},extra:r.a.createElement(m.a,{shape:"circle",icon:"arrows-alt",onClick:this.toggleExtra})},r.a.createElement("img",{src:a,alt:"unavailable",width:"270",height:"200"})),r.a.createElement(J.a,{visible:this.state.modal,footer:null,title:t.nickname,onCancel:this.toggleExtra,width:1e3,bodyStyle:{height:600}},r.a.createElement(ne,{ip:n,camera:t,startTime:this.props.startTime})))}}]),n}(r.a.Component),re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cameras:[]},e.componentDidMount=function(){e.props.handler.getCameras().then((function(t){e.setState({cameras:t})}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.cameras,t=this.props.ip;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",display:"table"}},e.map((function(e){return r.a.createElement("div",{style:{display:"table-cell"}},r.a.createElement(ae,{startTime:"Thu, 26 Mar 2020 20:09:10 GMT",camera:e,ip:t}))}))))}}]),n}(r.a.Component),ie=n(180),ce=n.n(ie),oe=N.a.Content,se=N.a.Sider,le=N.a.Header,ue=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onCollapse=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.ip;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(N.a,{style:{minHeight:"100vh"}},r.a.createElement(se,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},r.a.createElement("div",{className:"logo"}),r.a.createElement(Q.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(Q.a.Item,{key:"1"},r.a.createElement(D.a,{type:"appstore"}),r.a.createElement("span",null,"Dashboard"),r.a.createElement(R.b,{to:"/"})),r.a.createElement(Q.a.Item,null,r.a.createElement(D.a,{type:"bell"}),r.a.createElement("span",null,"Alerts"),r.a.createElement(R.b,{to:"/alerts"})),r.a.createElement(Q.a.Item,{key:"2"},r.a.createElement(D.a,{type:"search"}),r.a.createElement("span",null,"Search"),r.a.createElement(R.b,{to:"/"})),r.a.createElement(Q.a.Item,{key:"9"},r.a.createElement(D.a,{type:"setting"}),r.a.createElement("span",null,"Settings"),r.a.createElement(R.b,{to:"/"})))),r.a.createElement(N.a,null,r.a.createElement(le,{style:{background:"#fff",padding:0}},r.a.createElement("div",null,r.a.createElement("img",{src:ce.a,alt:"unavailable",height:"60",width:"283",style:{float:"left",marginLeft:"41%",marginBottom:"10"}})),r.a.createElement("div",{style:{float:"right",marginRight:"10px",display:"inline"}},r.a.createElement(z.a,{icon:"user"}))),r.a.createElement(oe,{style:{margin:"16px 16px 16px 16px",display:""}},r.a.createElement(M.a,{exact:!0,path:"/alerts",render:function(t){return r.a.createElement(Z,Object.assign({},t,{startTime:"Wed, 26 Feb 2020 18:23:27 GMT",ip:e}))}}),r.a.createElement(M.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(re,{ip:e,handler:new K(e)})}}))))))}}]),n}(r.a.Component),pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={orgIP:"",loggedIn:!1},e.setOrgIP=function(t){console.log(t),e.setState({orgIP:t})},e.setLoggedIn=function(t){e.setState({loggedIn:t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.orgIP,n=e.loggedIn;return""===t?r.a.createElement(T,{dnsResponse:this.setOrgIP}):!1===n?r.a.createElement(B,{ip:t,loginResponse:this.setLoggedIn}):r.a.createElement(ue,{ip:t})}}]),n}(r.a.Component),he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[185,1,2]]]);
//# sourceMappingURL=main.9babef8b.chunk.js.map